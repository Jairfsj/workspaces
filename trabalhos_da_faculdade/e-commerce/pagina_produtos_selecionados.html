<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Produtos selecionados</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="assets/css/style.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar">
 <!-- LOGO -->
       <div class="logo"><img src="assets/img/veganlogo.jpg" alt="vegan logo"> Vegan Store</div>
 <!-- MENU -->
        <ul class="nav-links"> 

        <div class="menu">
          <li><a href="pagina_inicial.html">Pagina Inicial</a>

          <li><a href="pagina_listagem.html">Mais Produtos</a></li>
          <li><a href="pagina_about_us.html">About Us</a></li>
       
         <li><a href="pagina_faleconosco.html">Fale Conosco</a></li>
       </div>
       </ul>
 </nav>
 
  <p> Carrinho de Compras.
<div id="itens"> </div>
<div>Total: <span id="total"></span></div>

<script>
  let total = 0; // variável que retorna o total dos produtos que estão na LocalStorage.
  let i = 0;     // variável que irá percorrer as posições
  let valor = 0; // variável que irá receber o preço do produto convertido em Float.
 
  for(i=1; i<=99; i++) // verifica até 99 produtos registrados na localStorage
 {
	 let prod = localStorage.getItem("produto" + i + ""); // verifica se há recheio nesta posição. 
	 if(prod != null) 
	 {	
		 // exibe os dados da lista dentro da div itens
		 document.getElementById("itens").innerHTML += localStorage.getItem("qtd" + i) + " x ";
		 document.getElementById("itens").innerHTML += localStorage.getItem("produto" + i);
		 document.getElementById("itens").innerHTML += " ";
		 document.getElementById("itens").innerHTML += "R$: " + localStorage.getItem("valor" + i) + "<hr>";
		 
		 // calcula o total dos recheios
		 valor = parseFloat(localStorage.getItem("valor" + i)); // valor convertido com o parseFloat()
		 total = (total + valor); // arredonda para 2 casas decimais com o .toFixed(2)
	 }
 } 
 // exibe o total dos recheios
 document.getElementById("total").innerHTML = total.toFixed(2); 
 </script>

 <button type="button" onclick=" localStorage.clear(); location.reload();"> Limpar carrinho </button>
  </p>
  <footer>
    <p align="center">&copy; VeganStore</p>
  </footer>
  </body>
</html>
